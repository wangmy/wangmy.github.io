<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>iOS on YoyoWong</title>
    <link>https://wangmingyou.github.io/tags/ios/</link>
    <description>Recent content in iOS on YoyoWong</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <lastBuildDate>Fri, 25 Mar 2022 00:00:00 +0000</lastBuildDate><atom:link href="https://wangmingyou.github.io/tags/ios/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>iOSåº”ç”¨ç¨‹åºåŠ è½½</title>
      <link>https://wangmingyou.github.io/p/ios-app-launch/</link>
      <pubDate>Fri, 25 Mar 2022 00:00:00 +0000</pubDate>
      
      <guid>https://wangmingyou.github.io/p/ios-app-launch/</guid>
      <description>iOSåº”ç”¨ç¨‹åºåŠ è½½ å‰è¨€ è¿™ç¯‡æ–‡ç« çš„æ ¸å¿ƒç›®çš„æ˜¯è·Ÿç€è‹¹æœæºç ï¼Œæ·±åº¦å­¦ä¹ å¹¶ç†è§£iOS APPå¯åŠ¨è¿‡ç¨‹ã€‚
åŸºç¡€æ¦‚å¿µ å†·å¯åŠ¨  å†·å¯åŠ¨ 
 æ³¨æ„ï¼šåœ¨æ—¥å¸¸å¼€å‘æˆ–æµ‹è¯•çš„æ—¶å€™ä¸ºäº†ï¼Œè§¦å‘å†·å¯åŠ¨çŠ¶æ€ï¼Œä¼šæ‰‹åŠ¨kill appï¼Œç„¶åç‚¹å‡»å¯åŠ¨ã€‚è¿™ç§æƒ…å†µä¸‹çš„å†·å¯åŠ¨å¯èƒ½ä¼šä¸ä¸Šè¿°å†·å¯åŠ¨è¿‡ç¨‹çš„æ­¥éª¤ç¨å¾®å°‘äº›ï¼Œå¯ä»¥é…åˆInstrumentè°ƒè¯•éªŒè¯ï¼ˆè¿™ä¸ªåœ¨æ–‡ç« ç»“å°¾ä¼šåšä»‹ç»ï¼‰ã€‚å› æ­¤é€šå¸¸å¦‚æœè¦æ¨¡æ‹Ÿæ›´çœŸå®å…¨é¢çš„å†·å¯åŠ¨ï¼Œåœ¨kill appåï¼Œå†æ‰“å¼€/å¹¶ç¨å¾®ä½¿ç”¨å‡ ä¸ªå…¶ä»–appã€‚
 é€šå¸¸è¯´çš„å¯åŠ¨ï¼Œä¹Ÿæ˜¯æŒ‡çš„å†·å¯åŠ¨ï¼›å¯åŠ¨ä¼˜åŒ–å¤§éƒ¨åˆ†ä¹Ÿæ˜¯åšå†·å¯åŠ¨éƒ¨åˆ†çš„æ€§èƒ½ä¼˜åŒ– æš‚ä¸”å¯ä»¥æŠŠå†·å¯åŠ¨åˆ†ä¸ºå‡ ä¸ªé˜¶æ®µï¼š
 T1: mainä¹‹å‰ï¼ŒåŠ è½½Appå¯æ‰§è¡Œæ–‡ä»¶åˆ°å†…å­˜ï¼Œç„¶åæ‰§è¡Œä¸€ç³»åˆ—çš„åŠ è½½&amp;amp;é“¾æ¥ç­‰å·¥ä½œï¼Œæœ€åæ‰§è¡Œåˆ°main()å‡½æ•° T2: mainä¹‹åï¼ŒdidFinishLaunchingä¹‹å‰ï¼Œè¿™éƒ¨åˆ†å¼€å‘æ˜¯å¯ä»¥ç›‘å¬åˆ°çš„ T3: didFinishLaunchingä¹‹åï¼Œå¯åŠ¨é¡µé¢å‡ºç°ä¹‹å‰ï¼Œä¹Ÿæ˜¯å¯ä»¥ç›‘å¬çš„  çƒ­å¯åŠ¨  çƒ­å¯åŠ¨  çƒ­å¯åŠ¨çš„é˜¶æ®µå’ŒçŠ¶æ€éƒ½æ˜¯å¯ç›‘å¬çš„ï¼Œä¸åšè¿‡å¤šä»‹ç»ã€‚
åº”ç”¨ç¨‹åºçš„çŠ¶æ€ å¯åŠ¨ç¨‹åº willFinishLaunchingWithOptions didFinishLaunchingWithOptions applicationDidBecomeActive æŒ‰ä¸‹homeé”® applicationWillResignActive applicationDidEnterBackground åŒå‡»homeé”®ï¼Œå†æ‰“å¼€ç¨‹åº applicationWillEnterForeground applicationDidBecomeActive ç®€å•ç†è§£ç¼–è¯‘è¿‡ç¨‹ åº”ç”¨ç¨‹åºåŠ è½½è¿‡ç¨‹ä¸­ä¼šä¾èµ–å¾ˆå¤šåº•å±‚åº“ï¼Œè¿™äº›åº•å±‚åº“å…¶å®å°±æ˜¯å¯æ‰§è¡Œçš„ä»£ç çš„äºŒè¿›åˆ¶ï¼Œè¢«æ“ä½œç³»ç»Ÿå†™å…¥åˆ°å†…å­˜ã€‚  ç¼–è¯‘è¿‡ç¨‹ 
é™æ€åº“ æ¯”å¦‚ï¼š .a, .lib åœ¨é“¾æ¥é˜¶æ®µï¼Œä¼šå°†æ±‡ç¼–ç”Ÿæˆçš„ç›®æ ‡ä¸å¼•ç”¨çš„åº“ä¸€èµ·é“¾æ¥æ‰“åŒ…åˆ°å¯æ‰§è¡Œæ–‡ä»¶ä¸­ã€‚  é™æ€åº“ 
åŠ¨æ€åº“ æ¯”å¦‚ï¼š frameworkï¼Œ.so, .dllï¼ŒUIKIT.frameworkï¼Œ libsystemï¼Œ libdispatchï¼Œlibobjc åŠ¨æ€åº“æ ¹æ®éœ€è¦ç¼–è¯‘ï¼ŒåŠ¨æ€åŠ è½½ï¼Œåœ¨è¿è¡Œæ—¶æ‰è¢«è½½å…¥ï¼ŒèŠ‚çº¦èµ„æºï¼Œå‡å°ä½“ç§¯ã€‚  åŠ¨æ€åº“ 
å¿«é€Ÿå®šä½æ ¸å¿ƒæºç å…¥å£   mainå‡½æ•°ï¼Œæ–­ç‚¹å †æ ˆï¼ˆDebug/Debug Workflow/Always Show Disassembly å¼€å¯æ±‡ç¼–Debugï¼‰å¯ä»¥çœ‹åˆ°æ˜¯æœ€æ—©æ˜¯ï¼šdyldçš„start:  mainæ–­ç‚¹</description>
    </item>
    
    <item>
      <title>æºç å­¦ä¹ </title>
      <link>https://wangmingyou.github.io/p/open_source/</link>
      <pubDate>Fri, 18 Feb 2022 00:00:00 +0000</pubDate>
      
      <guid>https://wangmingyou.github.io/p/open_source/</guid>
      <description>objc æºç  objc818-canrun
objc838-canrun</description>
    </item>
    
    <item>
      <title>æ¶ˆæ¯å‘é€æºç å­¦ä¹ </title>
      <link>https://wangmingyou.github.io/p/objc_msgsend/</link>
      <pubDate>Wed, 15 Jan 2020 00:00:00 +0000</pubDate>
      
      <guid>https://wangmingyou.github.io/p/objc_msgsend/</guid>
      <description>å…¥å£ objc_msgSend æå‡ºç–‘é—® æ–¹æ³• -&amp;gt; æ¶ˆæ¯ï¼Œ å¦‚ä½•å‘é€çš„ï¼Ÿ
sel-imp æ–¹æ³•ç¼–è¯‘ä¸ºå‡½æ•°é»˜è®¤æœ‰ä¸¤ä¸ªå‚æ•° ï¼ˆid selfï¼Œ SEL _cmdï¼‰
self: æ¶ˆæ¯æ¥å—è€…
_cmd: æ–¹æ³•ç¼–å·ï¼Œ æ‰¾åˆ°å…·ä½“å‡½æ•°å®ç°
ç›®å½• ï¼ˆSELï¼‰ï¼Œé¡µç ï¼ˆIMPï¼š æŒ‡å‘å‡½æ•°å…·ä½“å®ç°çš„æŒ‡é’ˆï¼‰ï¼Œå…·ä½“å†…å®¹ï¼ˆå‡½æ•°å®ç° ï¼‰
å¦‚ä½•ä»SEL æ‰¾åˆ° IMP
æ±‡ç¼–ï¼Œæ–­ç‚¹æŸ¥çœ‹  
libobjcæºç åˆ†æ è¿›å…¥æ±‡ç¼–æŸ¥æ‰¾è¿‡ç¨‹ objc-msg-arm64 ENTRY _objc_msgSend
CacheLookup  CacheLookup, æœ‰ç¼“å­˜åˆ—è¡¨   CacheHitï¼Œæ‰¾åˆ°è¿”å›  ç›´æ¥ä»å¯„å­˜å™¨è·å–
CheckMissï¼Œæ²¡æ‰¾åˆ°  æ­£å¸¸å°±æ˜¯ç”¨Normalè¿›æ¥çš„ï¼Œæ‰€ä»¥èµ°__objc_msgSend_uncached
c. add æ·»åŠ è¿›å»ï¼Œæ–¹ä¾¿ä¸‹æ¬¡æ“ä½œ
MethodTableLookup æˆ‘ä»¬éƒ½çŸ¥é“OCçš„å¯¹è±¡æœ€ç»ˆæ±‡ç¼–æˆç»“æ„ä½“ï¼Œç»“æ„ä½“æ˜¯Classï¼Œä¹Ÿå°±æ˜¯objc_class
ç”±æ­¤å¯ä»¥çœ‹åˆ°åœ¨ç»“æ„ä½“é‡Œé¢æœ‰ï¼š æ–¹æ³•åˆ—è¡¨ï¼Œå±æ€§åˆ—è¡¨ï¼Œåè®®åˆ—è¡¨
runtime æ˜¯ç”± C, C++, æ±‡ç¼–æ··åˆæä¾›è¿è¡Œæ—¶åŠŸèƒ½ï¼Œ æ‰€ä»¥æœç´¢åˆ é™¤ä¸€ä¸ª&amp;quot;_&amp;quot;, æœç´¢&amp;quot;_class_lookupMethodAndLoadCache3&amp;quot;
è¿›å…¥C/C++å‡½æ•°æ–¹æ³• æŸ¥æ‰¾è¿‡ç¨‹ æ­¤æ—¶å·²ç»ç¦»å¼€æ±‡ç¼–è¿‡ç¨‹ï¼ˆå¿«é€Ÿï¼‰ï¼Œä»lookUpImpOrForwardå¼€å§‹è¿›å…¥æ…¢é€ŸæŸ¥æ‰¾è¿‡ç¨‹
clsï¼š Class ç±»å¯¹è±¡
clsç±»å¯¹è±¡
å®ä¾‹å¯¹è±¡
å…ƒç±»å¯¹è±¡
ç»§æ‰¿å…³ç³»å®ç° å®é™…åº”ç”¨  NSObject åˆ†ç±»æ·»åŠ æ–¹æ³•ï¼Œé˜²æ­¢å´©æºƒ ç½‘ç»œè·å–æ•°æ®ï¼Œå¯èƒ½int/stringï¼Œint.</description>
    </item>
    
    <item>
      <title>åˆ†æ åœ¨OCä¸­ [self class] ä¸ [super class] çš„åŒºåˆ«</title>
      <link>https://wangmingyou.github.io/p/super-class-study/</link>
      <pubDate>Fri, 15 Mar 2019 00:00:00 +0000</pubDate>
      
      <guid>https://wangmingyou.github.io/p/super-class-study/</guid>
      <description>ç›´æ¥çœ‹ä¸€æ®µä»£ç  @interface Person : NSObject @end @implementation Person @end @interface Worker : Person @end @implementation Worker - (instancetype)init{ self = [super init]; if (self) { NSLog(@&amp;quot;ğŸ¦ï¸ [self class] %@&amp;quot;,NSStringFromClass([self class])); NSLog(@&amp;quot;ğŸ¦ï¸ [super class] %@&amp;quot;,NSStringFromClass([super class])); } return self; } @end @implementation TestSuperClass // åˆ†æ [self class] ä¸ [super class] çš„åŒºåˆ« - (void) test { Worker *worker = [[Worker alloc] init]; } @end æ‰“å°ç»“æœï¼š 2022-04-09 19:08:09.612737+0800 Object-CDemo[68945:1164926] ğŸ¦ï¸ [self class] Worker 2022-04-09 19:08:09.</description>
    </item>
    
  </channel>
</rss>
