<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
        <title>é¢è¯• on YoyoWong</title>
        <link>https://wangmingyou.github.io/categories/%E9%9D%A2%E8%AF%95/</link>
        <description>Recent content in é¢è¯• on YoyoWong</description>
        <generator>Hugo -- gohugo.io</generator>
        <language>en</language>
        <lastBuildDate>Fri, 15 Mar 2019 00:00:00 +0000</lastBuildDate><atom:link href="https://wangmingyou.github.io/categories/%E9%9D%A2%E8%AF%95/index.xml" rel="self" type="application/rss+xml" /><item>
        <title>åˆ†æ åœ¨OCä¸­ [self class] ä¸ [super class] çš„åŒºåˆ«</title>
        <link>https://wangmingyou.github.io/p/super-class-study/</link>
        <pubDate>Fri, 15 Mar 2019 00:00:00 +0000</pubDate>
        
        <guid>https://wangmingyou.github.io/p/super-class-study/</guid>
        <description>&lt;h1 id=&#34;ç›´æ¥çœ‹ä¸€æ®µä»£ç &#34;&gt;ç›´æ¥çœ‹ä¸€æ®µä»£ç &lt;/h1&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;23
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;24
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;25
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;26
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;27
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;@interface Person : NSObject
@end

@implementation Person
@end

@interface Worker : Person
@end

@implementation Worker
- (instancetype)init{
    
    self = [super init];
    if (self) {
        NSLog(@&amp;#34;ğŸ¦ï¸ [self class] %@&amp;#34;,NSStringFromClass([self class]));
        NSLog(@&amp;#34;ğŸ¦ï¸ [super class] %@&amp;#34;,NSStringFromClass([super class]));
    }
    return self;
}
@end

@implementation TestSuperClass
// åˆ†æ [self class] ä¸ [super class] çš„åŒºåˆ«
- (void) test {
    Worker *worker = [[Worker alloc] init];
}
@end
&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h2 id=&#34;æ‰“å°ç»“æœ&#34;&gt;æ‰“å°ç»“æœï¼š&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;2022-04-09 19:08:09.612737+0800 Object-CDemo[68945:1164926] ğŸ¦ï¸ [self class] Worker
2022-04-09 19:08:09.612854+0800 Object-CDemo[68945:1164926] ğŸ¦ï¸ [super class] Worker
&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;blockquote&gt;
&lt;p&gt;ç›¸ä¿¡ä¸€ä¸ªæ‰“å°å¤§å®¶éƒ½å¾ˆå¥½ç†è§£ï¼Œç¬¬äºŒä¸ªå°±ä¸å¥½ç†è§£äº†ï¼Œé‚£ä¹ˆç°åœ¨ä¸»è¦æ¥åˆ†æä¸‹ super class&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;åœ¨objc æºç ä¸­ æ‰¾åˆ°class çš„æºç å®ç°&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;- (Class)class {
   /*
       1. æ‰€æœ‰çš„å‡½æ•°ï¼Œéƒ½æœ‰ä¸¤ä¸ªé»˜è®¤çš„éšè—å‚æ•°ï¼š(id self , sel _cmd),  è¿™é‡Œçš„ç”¨çš„selfå°±æ˜¯ç¬¬ä¸€ä¸ªéšè—å‚æ•°ï¼Œå°±æ˜¯æ¶ˆæ¯çš„æ¥å—ä½“
       2. ç°åœ¨çš„å…³é”®é—®é¢˜æ˜¯ï¼Œéšè—å‚æ•°self åˆ°åº•æ˜¯è°ï¼Œä¹Ÿå°±æ˜¯æ¶ˆæ¯çš„æ¥å—è€…æ˜¯è°
    */
    return object_getClass(self);
}
&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;blockquote&gt;
&lt;p&gt;è¿™é‡Œæ˜¾è€Œæ˜“è§ï¼Œæ‰€ä»¥ç¬¬ä¸€ä¸ª[self class]çš„selfæ˜¯workerå°±æ˜¾è€Œæ˜“è§äº†ã€‚é‚£ä¹ˆç¬¬äºŒä¸ªä¸ºä»€ä¹ˆä¹Ÿæ˜¯workerå‘¢ï¼Ÿ&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;åˆ†æçš„å¸¸è§æ€è·¯&#34;&gt;åˆ†æçš„å¸¸è§æ€è·¯&lt;/h2&gt;
&lt;h3 id=&#34;æ–¹æ³•1-clang-çœ‹åˆ°åº•åº•å±‚ç¼–è¯‘æˆä»€ä¹ˆæ ·çš„æºç &#34;&gt;æ–¹æ³•1: clang çœ‹åˆ°åº•åº•å±‚ç¼–è¯‘æˆä»€ä¹ˆæ ·çš„æºç &lt;/h3&gt;
&lt;h3 id=&#34;æ–¹æ³•2-objcæºç -runèµ·æ¥ç›´æ¥æ–­ç‚¹åˆ†æåˆ†æ&#34;&gt;æ–¹æ³•2: objcæºç  runèµ·æ¥ï¼Œç›´æ¥æ–­ç‚¹åˆ†æåˆ†æ&lt;/h3&gt;
&lt;h3 id=&#34;æ–¹æ³•3-æ–­ç‚¹æ±‡ç¼–--æºç é…åˆ-åˆ†æ&#34;&gt;æ–¹æ³•3: æ–­ç‚¹æ±‡ç¼– + æºç é…åˆ åˆ†æ&lt;/h3&gt;
&lt;h3 id=&#34;æ–¹æ³•4-nsobject-methodswizzling-class-æ–¹æ³•&#34;&gt;æ–¹æ³•4: NSObject MethodSwizzling class æ–¹æ³•&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;å‰ä¸¤ç§æ–¹æ³•ï¼Œæˆ‘è§‰å¾—éƒ½æœ‰ç‚¹éº»çƒ¦ï¼Œæ–¹æ³•4ï¼ŒMethodSwizzlingä¹Ÿåªæ˜¯éªŒè¯æ‰“å°ç»“æœï¼Œå¯¹æˆ‘ä»¬åˆ†ææœ¬è´¨ï¼Œå¸®åŠ©å¯èƒ½ä¸å¤§ï¼Œæ‰€ä»¥æˆ‘ç›´æ¥é€‰æ‹©æ–¹æ³•3ï¼Œå¿«æ·è¿˜å¯ä»¥åˆ†æåº•å±‚åŸå› ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1 id=&#34;æ–­ç‚¹æ±‡ç¼–åˆ†æ&#34;&gt;æ–­ç‚¹æ±‡ç¼–åˆ†æ&lt;/h1&gt;
&lt;h2 id=&#34;é¦–å…ˆé€‰æ‹©æ–­ç‚¹çš„æ±‡ç¼–æ¨¡å¼&#34;&gt;é¦–å…ˆé€‰æ‹©æ–­ç‚¹çš„æ±‡ç¼–æ¨¡å¼&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img src=&#34;https://wangmingyou.github.io/p/super-class-study/media/16495371029886.jpg&#34;
	width=&#34;1240&#34;
	height=&#34;775&#34;
	srcset=&#34;https://wangmingyou.github.io/p/super-class-study/media/16495371029886_hu15c7c349cd219dc700813f6d454ddd97_206985_480x0_resize_q75_box.jpg 480w, https://wangmingyou.github.io/p/super-class-study/media/16495371029886_hu15c7c349cd219dc700813f6d454ddd97_206985_1024x0_resize_q75_box.jpg 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;160&#34;
		data-flex-basis=&#34;384px&#34;
	
&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img src=&#34;https://wangmingyou.github.io/p/super-class-study/media/16495371254586.jpg&#34;
	width=&#34;1240&#34;
	height=&#34;834&#34;
	srcset=&#34;https://wangmingyou.github.io/p/super-class-study/media/16495371254586_hu15c7c349cd219dc700813f6d454ddd97_333785_480x0_resize_q75_box.jpg 480w, https://wangmingyou.github.io/p/super-class-study/media/16495371254586_hu15c7c349cd219dc700813f6d454ddd97_333785_1024x0_resize_q75_box.jpg 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;148&#34;
		data-flex-basis=&#34;356px&#34;
	
&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;è¿™é‡Œæ˜¾è€Œæ˜“è§  &lt;code&gt;[super class]&lt;/code&gt; æœ€ç»ˆèµ°çš„æ˜¯objc_msgSendSuper2æ¶ˆæ¯å‘é€ï¼Œå†ç»“åˆæºç ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;objc_msgSendSuper2(struct objc_super * _Nonnull super, SEL _Nonnull op, ...)

#endif
&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;// é€šè¿‡objcæºç é‡Œé¢ç®€åŒ– objc_super&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;struct objc_super { 
    __unsafe_unretained _Nonnull id receiver; //æ¶ˆæ¯æ¥æ”¶è€…
    __unsafe_unretained _Nonnull Class super_class;
};

&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;blockquote&gt;
&lt;p&gt;ä¹Ÿå°±æ˜¯&lt;code&gt;NSLog(@&amp;quot;ğŸ¦ï¸ [super class] %@&amp;quot;,NSStringFromClass([super class]))&lt;/code&gt; ç­‰åŒäºä¸‹é¢çš„ä¸€æ®µä»£ç &lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;// [super class] ç­‰åŒäºä¸‹é¢ä¸€æ®µä»£ç 
struct objc_super test_super = {
      self, // ç ”ç©¶å¯¹è±¡æ˜¯åœ¨workeré‡Œé¢
      class_getSuperclass([self class]),
};
NSLog(@&amp;#34;%@&amp;#34;,NSStringFromClass(objc_msgSendSuper2(&amp;amp;test_super,@selector(class))));
&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;blockquote&gt;
&lt;p&gt;è½¬åŒ–åå¾ˆå¥½ç†è§£äº†ï¼Œå…¶å®å°±æ˜¯ç»™selfï¼ˆworkerï¼‰å‘é€æ¶ˆæ¯ï¼Œè°ƒç”¨classæ–¹æ³•ã€‚è¿™æ ·å°±èƒ½ç†è§£æ‰“å°ç»“æœäº†ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1 id=&#34;é‚£ä¹ˆ-super-class-ä¸-self-class-æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢&#34;&gt;é‚£ä¹ˆ [super class] ä¸ [self class] æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢&lt;/h1&gt;
&lt;blockquote&gt;
&lt;p&gt;è™½ç„¶ç°åœ¨ç†è§£äº†ä¸¤è€…ç»“æœä¸€æ ·ï¼Œé‚£ä¹ˆ[super class] æœ‰ä»€ä¹ˆç‰¹æ®Šçš„å‘¢ï¼Ÿä¹Ÿå°±æ˜¯&lt;code&gt;objc_super&lt;/code&gt; é‡Œé¢çš„ &lt;code&gt;class_getSuperclass([self class]),&lt;/code&gt; å­˜åœ¨çš„æ„ä¹‰æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ
å…¶å®æœ¬è´¨åŒºåˆ«å°±æ˜¯&lt;code&gt;objc_msgSendSuper&lt;/code&gt; ä¸&lt;code&gt;objc_msgSend&lt;/code&gt; æœ‰ä»€ä¹ˆåŒºåˆ«?&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;objc_msgsend-æµç¨‹&#34;&gt;objc_msgSend æµç¨‹&lt;/h2&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://wangmy.github.io/p/objc_msgsend/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;objc_msgSendå…·ä½“æµç¨‹&lt;/a&gt; å¯ä»¥çœ‹åˆ°è¿™ä¸ªobjc_msgSendæ…¢é€Ÿæµç¨‹å›å»éå†çˆ¶ç±»ï¼Œæ¯”è¾ƒæ…¢ï¼Œobjc_msgSendSuperå°±å¯ä»¥è·³è¿‡å¾ˆå¤šéå†ï¼Œå˜å¾—æ›´å¿«äº†ã€‚&lt;/p&gt;
&lt;h1 id=&#34;ç»“è®º&#34;&gt;ç»“è®º&lt;/h1&gt;
&lt;blockquote&gt;
&lt;p&gt;[self class] å°±æ˜¯å‘é€æ¶ˆæ¯objc_msgSendï¼Œæ¶ˆæ¯æ¥å—è€…æ˜¯ self â½…æ³•ç¼–å·ï¼šclass
[super class] æœ¬è´¨å°±æ˜¯objc_msgSendSuper, æ¶ˆæ¯çš„æ¥å—è€…è¿˜æ˜¯ self â½…æ³•ç¼–å·ï¼šclass é€»è¾‘æ•™è‚² åªæ˜¯objc_msgSendSuper ä¼šæ›´å¿« ç›´æ¥è·³è¿‡ self çš„æŸ¥æ‰¾&lt;/p&gt;
&lt;/blockquote&gt;
</description>
        </item>
        <item>
        <title>åˆ†æ åœ¨OCä¸­ [self class] ä¸ [super class] çš„åŒºåˆ«</title>
        <link>https://wangmingyou.github.io/posting/super-class-study/</link>
        <pubDate>Fri, 15 Mar 2019 00:00:00 +0000</pubDate>
        
        <guid>https://wangmingyou.github.io/posting/super-class-study/</guid>
        <description>&lt;h1 id=&#34;ç›´æ¥çœ‹ä¸€æ®µä»£ç &#34;&gt;ç›´æ¥çœ‹ä¸€æ®µä»£ç &lt;/h1&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;23
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;24
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;25
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;26
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;27
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;@interface Person : NSObject
@end

@implementation Person
@end

@interface Worker : Person
@end

@implementation Worker
- (instancetype)init{
    
    self = [super init];
    if (self) {
        NSLog(@&amp;#34;ğŸ¦ï¸ [self class] %@&amp;#34;,NSStringFromClass([self class]));
        NSLog(@&amp;#34;ğŸ¦ï¸ [super class] %@&amp;#34;,NSStringFromClass([super class]));
    }
    return self;
}
@end

@implementation TestSuperClass
// åˆ†æ [self class] ä¸ [super class] çš„åŒºåˆ«
- (void) test {
    Worker *worker = [[Worker alloc] init];
}
@end
&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h2 id=&#34;æ‰“å°ç»“æœ&#34;&gt;æ‰“å°ç»“æœï¼š&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;2022-04-09 19:08:09.612737+0800 Object-CDemo[68945:1164926] ğŸ¦ï¸ [self class] Worker
2022-04-09 19:08:09.612854+0800 Object-CDemo[68945:1164926] ğŸ¦ï¸ [super class] Worker
&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;blockquote&gt;
&lt;p&gt;ç›¸ä¿¡ä¸€ä¸ªæ‰“å°å¤§å®¶éƒ½å¾ˆå¥½ç†è§£ï¼Œç¬¬äºŒä¸ªå°±ä¸å¥½ç†è§£äº†ï¼Œé‚£ä¹ˆç°åœ¨ä¸»è¦æ¥åˆ†æä¸‹ super class&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;åœ¨objc æºç ä¸­ æ‰¾åˆ°class çš„æºç å®ç°&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;- (Class)class {
   /*
       1. æ‰€æœ‰çš„å‡½æ•°ï¼Œéƒ½æœ‰ä¸¤ä¸ªé»˜è®¤çš„éšè—å‚æ•°ï¼š(id self , sel _cmd),  è¿™é‡Œçš„ç”¨çš„selfå°±æ˜¯ç¬¬ä¸€ä¸ªéšè—å‚æ•°ï¼Œå°±æ˜¯æ¶ˆæ¯çš„æ¥å—ä½“
       2. ç°åœ¨çš„å…³é”®é—®é¢˜æ˜¯ï¼Œéšè—å‚æ•°self åˆ°åº•æ˜¯è°ï¼Œä¹Ÿå°±æ˜¯æ¶ˆæ¯çš„æ¥å—è€…æ˜¯è°
    */
    return object_getClass(self);
}
&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;blockquote&gt;
&lt;p&gt;è¿™é‡Œæ˜¾è€Œæ˜“è§ï¼Œæ‰€ä»¥ç¬¬ä¸€ä¸ª[self class]çš„selfæ˜¯workerå°±æ˜¾è€Œæ˜“è§äº†ã€‚é‚£ä¹ˆç¬¬äºŒä¸ªä¸ºä»€ä¹ˆä¹Ÿæ˜¯workerå‘¢ï¼Ÿ&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;åˆ†æçš„å¸¸è§æ€è·¯&#34;&gt;åˆ†æçš„å¸¸è§æ€è·¯&lt;/h2&gt;
&lt;h3 id=&#34;æ–¹æ³•1-clang-çœ‹åˆ°åº•åº•å±‚ç¼–è¯‘æˆä»€ä¹ˆæ ·çš„æºç &#34;&gt;æ–¹æ³•1: clang çœ‹åˆ°åº•åº•å±‚ç¼–è¯‘æˆä»€ä¹ˆæ ·çš„æºç &lt;/h3&gt;
&lt;h3 id=&#34;æ–¹æ³•2-objcæºç -runèµ·æ¥ç›´æ¥æ–­ç‚¹åˆ†æåˆ†æ&#34;&gt;æ–¹æ³•2: objcæºç  runèµ·æ¥ï¼Œç›´æ¥æ–­ç‚¹åˆ†æåˆ†æ&lt;/h3&gt;
&lt;h3 id=&#34;æ–¹æ³•3-æ–­ç‚¹æ±‡ç¼–--æºç é…åˆ-åˆ†æ&#34;&gt;æ–¹æ³•3: æ–­ç‚¹æ±‡ç¼– + æºç é…åˆ åˆ†æ&lt;/h3&gt;
&lt;h3 id=&#34;æ–¹æ³•4-nsobject-methodswizzling-class-æ–¹æ³•&#34;&gt;æ–¹æ³•4: NSObject MethodSwizzling class æ–¹æ³•&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;å‰ä¸¤ç§æ–¹æ³•ï¼Œæˆ‘è§‰å¾—éƒ½æœ‰ç‚¹éº»çƒ¦ï¼Œæ–¹æ³•4ï¼ŒMethodSwizzlingä¹Ÿåªæ˜¯éªŒè¯æ‰“å°ç»“æœï¼Œå¯¹æˆ‘ä»¬åˆ†ææœ¬è´¨ï¼Œå¸®åŠ©å¯èƒ½ä¸å¤§ï¼Œæ‰€ä»¥æˆ‘ç›´æ¥é€‰æ‹©æ–¹æ³•3ï¼Œå¿«æ·è¿˜å¯ä»¥åˆ†æåº•å±‚åŸå› ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1 id=&#34;æ–­ç‚¹æ±‡ç¼–åˆ†æ&#34;&gt;æ–­ç‚¹æ±‡ç¼–åˆ†æ&lt;/h1&gt;
&lt;h2 id=&#34;é¦–å…ˆé€‰æ‹©æ–­ç‚¹çš„æ±‡ç¼–æ¨¡å¼&#34;&gt;é¦–å…ˆé€‰æ‹©æ–­ç‚¹çš„æ±‡ç¼–æ¨¡å¼&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img src=&#34;https://wangmingyou.github.io/posting/super-class-study/media/16495371029886.jpg&#34;
	width=&#34;1240&#34;
	height=&#34;775&#34;
	srcset=&#34;https://wangmingyou.github.io/posting/super-class-study/media/16495371029886_hu15c7c349cd219dc700813f6d454ddd97_206985_480x0_resize_q75_box.jpg 480w, https://wangmingyou.github.io/posting/super-class-study/media/16495371029886_hu15c7c349cd219dc700813f6d454ddd97_206985_1024x0_resize_q75_box.jpg 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;160&#34;
		data-flex-basis=&#34;384px&#34;
	
&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img src=&#34;https://wangmingyou.github.io/posting/super-class-study/media/16495371254586.jpg&#34;
	width=&#34;1240&#34;
	height=&#34;834&#34;
	srcset=&#34;https://wangmingyou.github.io/posting/super-class-study/media/16495371254586_hu15c7c349cd219dc700813f6d454ddd97_333785_480x0_resize_q75_box.jpg 480w, https://wangmingyou.github.io/posting/super-class-study/media/16495371254586_hu15c7c349cd219dc700813f6d454ddd97_333785_1024x0_resize_q75_box.jpg 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;148&#34;
		data-flex-basis=&#34;356px&#34;
	
&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;è¿™é‡Œæ˜¾è€Œæ˜“è§  &lt;code&gt;[super class]&lt;/code&gt; æœ€ç»ˆèµ°çš„æ˜¯objc_msgSendSuper2æ¶ˆæ¯å‘é€ï¼Œå†ç»“åˆæºç ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;objc_msgSendSuper2(struct objc_super * _Nonnull super, SEL _Nonnull op, ...)

#endif
&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;// é€šè¿‡objcæºç é‡Œé¢ç®€åŒ– objc_super&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;struct objc_super { 
    __unsafe_unretained _Nonnull id receiver; //æ¶ˆæ¯æ¥æ”¶è€…
    __unsafe_unretained _Nonnull Class super_class;
};

&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;blockquote&gt;
&lt;p&gt;ä¹Ÿå°±æ˜¯&lt;code&gt;NSLog(@&amp;quot;ğŸ¦ï¸ [super class] %@&amp;quot;,NSStringFromClass([super class]))&lt;/code&gt; ç­‰åŒäºä¸‹é¢çš„ä¸€æ®µä»£ç &lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;// [super class] ç­‰åŒäºä¸‹é¢ä¸€æ®µä»£ç 
struct objc_super test_super = {
      self, // ç ”ç©¶å¯¹è±¡æ˜¯åœ¨workeré‡Œé¢
      class_getSuperclass([self class]),
};
NSLog(@&amp;#34;%@&amp;#34;,NSStringFromClass(objc_msgSendSuper2(&amp;amp;test_super,@selector(class))));
&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;blockquote&gt;
&lt;p&gt;è½¬åŒ–åå¾ˆå¥½ç†è§£äº†ï¼Œå…¶å®å°±æ˜¯ç»™selfï¼ˆworkerï¼‰å‘é€æ¶ˆæ¯ï¼Œè°ƒç”¨classæ–¹æ³•ã€‚è¿™æ ·å°±èƒ½ç†è§£æ‰“å°ç»“æœäº†ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1 id=&#34;é‚£ä¹ˆ-super-class-ä¸-self-class-æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢&#34;&gt;é‚£ä¹ˆ [super class] ä¸ [self class] æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢&lt;/h1&gt;
&lt;blockquote&gt;
&lt;p&gt;è™½ç„¶ç°åœ¨ç†è§£äº†ä¸¤è€…ç»“æœä¸€æ ·ï¼Œé‚£ä¹ˆ[super class] æœ‰ä»€ä¹ˆç‰¹æ®Šçš„å‘¢ï¼Ÿä¹Ÿå°±æ˜¯&lt;code&gt;objc_super&lt;/code&gt; é‡Œé¢çš„ &lt;code&gt;class_getSuperclass([self class]),&lt;/code&gt; å­˜åœ¨çš„æ„ä¹‰æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ
å…¶å®æœ¬è´¨åŒºåˆ«å°±æ˜¯&lt;code&gt;objc_msgSendSuper&lt;/code&gt; ä¸&lt;code&gt;objc_msgSend&lt;/code&gt; æœ‰ä»€ä¹ˆåŒºåˆ«?&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;objc_msgsend-æµç¨‹&#34;&gt;objc_msgSend æµç¨‹&lt;/h2&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://wangmy.github.io/p/objc_msgsend/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;objc_msgSendå…·ä½“æµç¨‹&lt;/a&gt; å¯ä»¥çœ‹åˆ°è¿™ä¸ªobjc_msgSendæ…¢é€Ÿæµç¨‹å›å»éå†çˆ¶ç±»ï¼Œæ¯”è¾ƒæ…¢ï¼Œobjc_msgSendSuperå°±å¯ä»¥è·³è¿‡å¾ˆå¤šéå†ï¼Œå˜å¾—æ›´å¿«äº†ã€‚&lt;/p&gt;
&lt;h1 id=&#34;ç»“è®º&#34;&gt;ç»“è®º&lt;/h1&gt;
&lt;blockquote&gt;
&lt;p&gt;[self class] å°±æ˜¯å‘é€æ¶ˆæ¯objc_msgSendï¼Œæ¶ˆæ¯æ¥å—è€…æ˜¯ self â½…æ³•ç¼–å·ï¼šclass
[super class] æœ¬è´¨å°±æ˜¯objc_msgSendSuper, æ¶ˆæ¯çš„æ¥å—è€…è¿˜æ˜¯ self â½…æ³•ç¼–å·ï¼šclass é€»è¾‘æ•™è‚² åªæ˜¯objc_msgSendSuper ä¼šæ›´å¿« ç›´æ¥è·³è¿‡ self çš„æŸ¥æ‰¾&lt;/p&gt;
&lt;/blockquote&gt;
</description>
        </item>
        
    </channel>
</rss>
